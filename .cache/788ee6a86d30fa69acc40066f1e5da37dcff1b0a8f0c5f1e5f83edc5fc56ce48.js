{"source":"webpackJsonp([20],{R8cQ:function(t,s){},gqWv:function(t,s,e){\"use strict\";Object.defineProperty(s,\"__esModule\",{value:!0});var i=e(\"I9qK\"),r={data:function(){return{statusList:[],orderdetail:{shippingOrder:{},shippingInvoice:{},shippingAddress:{},shippingOrderItems:[]},orderNo:\"\"}},filters:{formatDate:function(t){var s=new Date(t);return Object(i.a)(s,\"yyyy-MM-dd hh:mm:ss\")}},methods:{getStatusEnum:function(){var s=this;this.$axios({method:\"get\",url:\"/order/enums\"}).then(function(t){\"200\"==t.code&&(s.statusList=t.object)})},statusfilter:function(t){for(var s=0;s<this.statusList.length;s++)if(this.statusList[s].key==t)return this.statusList[s].value},cancel:function(){var s=this;this.$Modal.confirm({content:\"<p>确定取消该订单？</p>\",onOk:function(){s.$axios({method:\"post\",url:\"/order/cancel/\"+s.orderNo}).then(function(t){\"200\"==t.code?(s.$Message.info(t.msg),s.getOrder()):s.$Message.info(t.msg)})},onCancel:function(){}})},quzhifu:function(){this.$router.push({name:\"/cartthree\",query:{orderNo:this.orderNo}})},productFeejun:function(t){return t.productFee/t.quantity},getParams:function(){var t=this.$route.query.orderNo;this.orderNo=t},getOrder:function(){var s=this;this.$axios({method:\"get\",url:\"/order/\"+this.orderNo}).then(function(t){s.orderdetail=t})}},mounted:function(){this.getParams(),this.getOrder(),this.getStatusEnum()}},a={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",[i(\"div\",{staticClass:\"m_header_bar\"},[i(\"router-link\",{staticClass:\"m_header_bar_back\",attrs:{to:\"/user/orderlist\"}},[i(\"Icon\",{attrs:{type:\"ios-arrow-back\"}})],1),e._v(\" \"),i(\"span\",{staticClass:\"m_header_bar_title\"},[e._v(\"订单详情\")]),e._v(\" \"),i(\"span\",{staticClass:\"m_header_bar_menu\"})],1),e._v(\" \"),i(\"div\",{staticClass:\"detail\"},[i(\"div\",{staticClass:\"status\"},[\"01\"==e.orderdetail.shippingOrder.orderStatus?i(\"div\",[i(\"p\",[e._v(\"等待买家付款\")]),e._v(\" \"),e._m(0)]):i(\"div\",[e._v(\"\\n\\t\\t\\t\\t\"+e._s(e.statusfilter(e.orderdetail.shippingOrder.orderStatus))+\"\\n\\t\\t\\t\")])]),e._v(\" \"),i(\"div\",{staticClass:\"order-detail-wrap\"},[i(\"p\",{staticClass:\"color-black\"},[e._v(\"订单编号:\"+e._s(e.orderdetail.shippingOrder.orderNo))]),e._v(\" \"),i(\"p\",{staticClass:\"color-gray\"},[e._v(\"下单时间:\"+e._s(e._f(\"formatDate\")(e.orderdetail.shippingOrder.createTime)))]),e._v(\" \"),i(\"ul\",{staticClass:\"spitem\"},e._l(e.orderdetail.shippingOrderItems,function(t,s){return i(\"li\",{key:s},[i(\"img\",{attrs:{src:e._f(\"imgfilter\")(t.productItemImg)}}),e._v(\" \"),i(\"div\",{staticClass:\"w15\"},[i(\"p\",{staticClass:\"color-black\"},[e._v(e._s(t.productItemNo))]),e._v(\" \"),i(\"p\",{staticClass:\"title\"},[e._v(e._s(t.productTitle))]),e._v(\" \"),i(\"span\",[e._v(e._s(t.productAttrs)+\" \")])]),e._v(\" \"),i(\"p\",[i(\"span\",{staticClass:\"price\"},[e._v(\"￥\"+e._s(e._f(\"pricefilter\")(e.productFeejun(t)))),i(\"br\"),e._v(\"x\"+e._s(t.quantity)+\"   \")])])])}))]),e._v(\" \"),i(\"div\",{staticClass:\"wrap\"},[i(\"h6\",[e._v(\"收货地址\")]),e._v(\" \"),i(\"ul\",{staticClass:\"sp\"},[i(\"li\",[i(\"span\",{staticClass:\"t\"},[e._v(\"姓       名:\")]),i(\"span\",{staticClass:\"s\"},[e._v(e._s(e.orderdetail.shippingAddress.receiverName)+\" \")])]),e._v(\" \"),i(\"li\",[i(\"span\",{staticClass:\"t\"},[e._v(\"联系电话:\")]),i(\"span\",{staticClass:\"s\"},[e._v(e._s(e.orderdetail.shippingAddress.receiverMobile)+\" \")])]),e._v(\" \"),i(\"li\",[i(\"span\",{staticClass:\"t\"},[e._v(\"收货地址:\")]),e._v(\" \"),i(\"span\",{staticClass:\"s\"},[e._v(e._s(e.orderdetail.shippingAddress.receiverState)+e._s(e.orderdetail.shippingAddress.receiverCity)+e._s(e.orderdetail.shippingAddress.receiverDistrict)+\"\\n\\t\\t\\t\\t\\t\"+e._s(e.orderdetail.shippingAddress.receiverAddress)+\"\\n\\t\\t \")])])])]),e._v(\" \"),i(\"div\",{staticClass:\"wrap\"},[i(\"h6\",[e._v(\"发票信息\")]),e._v(\" \"),i(\"ul\",{staticClass:\"sp\"},[i(\"li\",[i(\"span\",{staticClass:\"t\"},[e._v(\"收  票  人:\")]),i(\"span\",{staticClass:\"s\"},[e._v(e._s(e.orderdetail.shippingInvoice.receivePerson))])]),e._v(\" \"),i(\"li\",[i(\"span\",{staticClass:\"t\"},[e._v(\"发票抬头:\")]),i(\"span\",{staticClass:\"s\"},[e._v(e._s(e.orderdetail.shippingInvoice.invoiceTitle))])]),e._v(\" \"),i(\"li\",[i(\"span\",{staticClass:\"t\"},[e._v(\"发票类型:\")]),i(\"span\",{staticClass:\"s\"},[e._v(e._s(e.orderdetail.shippingInvoice.invoiceType)+\" \")]),e._v(\" \"),\"04\"!=e.orderdetail.shippingOrder.orderStatus?i(\"span\",{staticClass:\"btn-invoice\"},[\"\"==e.orderdetail.shippingInvoice||\"created\"==e.orderdetail.shippingInvoice.invoiceStatus?i(\"router-link\",{attrs:{to:{name:\"/addInvoice\",query:{orderNo:e.orderdetail.shippingOrder.orderNo},params:{shippingInvoice:e.orderdetail.shippingInvoice}}}},[e._v(\"\\n\\t   \\t\\t     \\t编辑发票\")]):e._e()],1):e._e()])])]),e._v(\" \"),i(\"div\",{staticClass:\"wrap\"},[i(\"ul\",{staticClass:\"sp\"},[i(\"li\",[i(\"span\",{staticClass:\"t\"},[e._v(\"商品总价:\")]),i(\"span\",{staticClass:\"s\"},[e._v(\"￥\"+e._s(e._f(\"pricefilter\")(e.orderdetail.shippingOrder.productFee)))])]),e._v(\" \"),i(\"li\",[i(\"span\",{staticClass:\"t\"},[e._v(\"活动优惠:\")]),i(\"span\",{staticClass:\"s\"},[e._v(\"￥\"+e._s(e._f(\"pricefilter\")(e.orderdetail.shippingOrder.discountFee)))])]),e._v(\" \"),i(\"li\",[i(\"span\",{staticClass:\"t\"},[e._v(\"运       费:\")]),i(\"span\",{staticClass:\"s\"},[e._v(\"￥\"+e._s(e._f(\"pricefilter\")(e.orderdetail.shippingOrder.postageFee)))])]),e._v(\" \"),i(\"li\",{staticClass:\"border\"},[i(\"span\",{staticClass:\"t\"},[e._v(\"应付总额:\")]),i(\"span\",{staticClass:\"s zjg\"},[e._v(\"￥\"+e._s(e._f(\"pricefilter\")(e.orderdetail.shippingOrder.orderTotalFee)))])])])])]),e._v(\" \"),i(\"div\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"01\"==e.orderdetail.shippingOrder.orderStatus||\"02\"==e.orderdetail.shippingOrder.orderStatus,expression:\"orderdetail.shippingOrder.orderStatus=='01'||orderdetail.shippingOrder.orderStatus=='02'\"}],staticClass:\"fixbottom\"},[i(\"button\",{staticClass:\"btn-white\",on:{click:function(t){e.cancel()}}},[e._v(\"取消订单\")]),e._v(\" \"),i(\"button\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"01\"==e.orderdetail.shippingOrder.orderStatus,expression:\"orderdetail.shippingOrder.orderStatus=='01'\"}],staticClass:\"btn-red-small\",on:{click:function(t){e.quzhifu()}}},[e._v(\"立即付款\")])])])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e(\"p\",{staticClass:\"font-14\"},[t._v(\"订单将在\"),e(\"strong\",[t._v(\"30分钟后\")]),t._v(\"自动关闭,请及时付款~\")])}]};var n=e(\"VU/8\")(r,a,!1,function(t){e(\"R8cQ\"),e(\"qHcd\")},\"data-v-58ff7548\",null);s.default=n.exports},qHcd:function(t,s){}});"}