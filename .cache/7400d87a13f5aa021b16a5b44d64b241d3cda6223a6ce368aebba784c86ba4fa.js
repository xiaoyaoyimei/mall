{"source":"webpackJsonp([27],{VBOp:function(e,t){},eJP9:function(e,t){},pSVD:function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var s=r(\"woOf\"),o=r.n(s),d=r(\"E4LH\"),i={data:function(){return{old:[],addressOption:[],editForm:{person:\"\",phone:\"\",selectedOptionsAddr:[],address:\"\",tel:\"\"},ruleValidate:{person:[{required:!0,message:\"收货人不能为空\",trigger:\"blur\"}],phone:[{required:!0,validator:function(e,t,r){null==t?r(new Error(\"手机号不能为空\")):Object(d.a)(t)?r():r(new Error(\"请输入正确的手机号\"))},trigger:\"blur\"}],selectedOptionsAddr:[{required:!0,type:\"array\",message:\"请选择省市区\",trigger:\"change\"}],address:[{required:!0,message:\"详细地址不能为空\",trigger:\"blur\"}]}}},methods:{getParams:function(){var e=JSON.parse(localStorage.getItem(\"old\"));this.old=e,this.editForm.id=this.old.id,this.editForm.person=this.old.person,this.editForm.phone=this.old.phone,this.editForm.tel=this.old.tel,this.editForm.selectedOptionsAddr=[this.old.receiveProvince,this.old.receiveCity,this.old.receiveDistrict],this.editForm.address=this.old.address},getAddressOption:function(){var t=this;this.$axios({method:\"post\",url:\"/common/address\"}).then(function(e){t.addressOption=e})},addSubmit:function(){var d=this;this.$refs.editForm.validate(function(e){if(e){var t=d.editForm,r=t.id;t.receiveProvince=d.editForm.selectedOptionsAddr[0],t.receiveCity=d.editForm.selectedOptionsAddr[1],t.receiveDistrict=d.editForm.selectedOptionsAddr[2],delete t.selectedOptionsAddr,delete t.id;var s=o()({},t);d.$axios({method:\"post\",url:\"/address/update?id=\"+r,data:s}).then(function(e){d.$Message.success(\"提交成功\"),d.$refs.editForm.resetFields(),d.$router.push(\"/user/address\"),localStorage.removeItem(\"old\")})}})}},created:function(){this.getAddressOption()},mounted:function(){this.getParams()}},a={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"div\",{staticClass:\"order\"},[r(\"div\",{staticClass:\"wap_header\"},[r(\"router-link\",{attrs:{to:\"/user/address\"}},[r(\"Icon\",{attrs:{type:\"ios-arrow-back\"}}),t._v(\"编辑地址\\n\\t\\t\")],1)],1),t._v(\" \"),r(\"Form\",{ref:\"editForm\",staticClass:\"form_wrap pt44 adrr\",attrs:{model:t.editForm,rules:t.ruleValidate}},[r(\"FormItem\",{attrs:{prop:\"person\"}},[r(\"Input\",{attrs:{placeholder:\"收货人姓名\"},model:{value:t.editForm.person,callback:function(e){t.$set(t.editForm,\"person\",e)},expression:\"editForm.person\"}})],1),t._v(\" \"),r(\"FormItem\",{attrs:{prop:\"phone\"}},[r(\"Input\",{attrs:{placeholder:\"手机号码\"},model:{value:t.editForm.phone,callback:function(e){t.$set(t.editForm,\"phone\",e)},expression:\"editForm.phone\"}})],1),t._v(\" \"),r(\"FormItem\",{attrs:{prop:\"selectedOptionsAddr\"}},[r(\"Cascader\",{attrs:{data:t.addressOption},model:{value:t.editForm.selectedOptionsAddr,callback:function(e){t.$set(t.editForm,\"selectedOptionsAddr\",e)},expression:\"editForm.selectedOptionsAddr\"}})],1),t._v(\" \"),r(\"FormItem\",{attrs:{prop:\"address\"}},[r(\"Input\",{attrs:{placeholder:\"详细地址\"},model:{value:t.editForm.address,callback:function(e){t.$set(t.editForm,\"address\",e)},expression:\"editForm.address\"}})],1)],1),t._v(\" \"),r(\"div\",{staticClass:\"btn-wrap\"},[r(\"Button\",{staticClass:\"btn-red\",attrs:{type:\"primary\",long:\"\"},on:{click:t.addSubmit}},[t._v(\"保存\")])],1)],1)},staticRenderFns:[]};var n=r(\"VU/8\")(i,a,!1,function(e){r(\"eJP9\"),r(\"VBOp\")},\"data-v-6b1ccb4a\",null);t.default=n.exports}});"}