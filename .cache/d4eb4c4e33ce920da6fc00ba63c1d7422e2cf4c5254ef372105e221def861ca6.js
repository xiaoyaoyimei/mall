{"source":"webpackJsonp([27],{lmfZ:function(t,o,r){\"use strict\";Object.defineProperty(o,\"__esModule\",{value:!0});var n=r(\"E4LH\"),e={data:function(){return{loginForm:{loginName:\"\",passWord:\"\"},loginRules:{loginName:[{required:!0,validator:function(t,o,e){null==o?e(new Error(\"手机号不能为空\")):Object(n.a)(o)?e():e(new Error(\"请输入正确的手机号\"))},trigger:\"blur\"}],passWord:[{required:!0,trigger:\"blur\",validator:function(t,o,e){o.length<1?e(new Error(\"密码不能为空\")):e()}}]},loading:!1,showDialog:!1}},mounted:function(){this.getParams()},methods:{routerBack:function(){this.$router.push(\"/\")},getParams:function(){this.loginForm.loginName=this.$route.query.loginName},handleLogin:function(){var n=this;this.loading=!0,this.$refs.loginForm.validate(function(t){if(!t)return n.loading=!1,console.log(\"登录验证失败!\"),!1;n.$axios.post(\"customer/login\",{loginName:n.loginForm.loginName,passWord:n.loginForm.passWord}).then(function(t){var o=t.code,e=t.object;if(200!==o)n.$Message.error(e),n.loading=!1;else{n.loading=!1,n.$Message.success(\"登录成功\");var r=t;n.$store.commit(\"LOGIN\",{token:r.object.token,userId:r.object.userId}),n.$router.push(\"/\")}}).catch(function(t){alert(t),n.loading=!1,n.loginBtn=\"登录\",n.$Message.error(\"系统异常\")})})}}},a={render:function(){var o=this,t=o.$createElement,e=o._self._c||t;return e(\"div\",{staticClass:\"login-page\"},[e(\"div\",{staticClass:\"m_header_bar\"},[e(\"span\",{staticClass:\"m_header_bar_back\",on:{click:function(t){o.routerBack()}}},[e(\"Icon\",{attrs:{type:\"ios-arrow-back\"}})],1),o._v(\" \"),e(\"span\",{staticClass:\"m_header_bar_title\"},[o._v(\"迪瑞克斯登录\")])]),o._v(\" \"),e(\"div\",{staticClass:\"ding\"},[e(\"router-link\",{attrs:{to:{path:\"/\"}}},[e(\"img\",{attrs:{src:r(\"Icm4\"),title:\"去首页\"}})]),o._v(\" \"),e(\"Form\",{ref:\"loginForm\",attrs:{autoComplete:\"on\",model:o.loginForm,rules:o.loginRules,\"label-position\":\"left\",\"label-width\":100}},[e(\"Form-item\",{attrs:{prop:\"loginName\",label:\"用户名\"}},[e(\"Input\",{attrs:{type:\"text\",placeholder:\"请输入用户名\",autoComplete:\"on\"},model:{value:o.loginForm.loginName,callback:function(t){o.$set(o.loginForm,\"loginName\",t)},expression:\"loginForm.loginName\"}})],1),o._v(\" \"),e(\"Form-item\",{attrs:{prop:\"passWord\",label:\"密码\"}},[e(\"Input\",{attrs:{type:\"password\",placeholder:\"请输入密码\"},nativeOn:{keyup:function(t){return\"button\"in t||!o._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?o.handleLogin(t):null}},model:{value:o.loginForm.passWord,callback:function(t){o.$set(o.loginForm,\"passWord\",t)},expression:\"loginForm.passWord\"}})],1),o._v(\" \"),e(\"Button\",{staticClass:\"btn-login\",attrs:{type:\"primary\",loading:o.loading},on:{click:function(t){o.handleLogin(\"loginForm\")}}},[o._v(\"登录\")]),o._v(\" \"),e(\"div\",{staticClass:\"opt\"},[e(\"router-link\",{attrs:{to:{path:\"/forget\"}}},[o._v(\"忘记密码\")]),o._v(\" \"),e(\"router-link\",{staticClass:\"re\",attrs:{to:{path:\"/register\"}}},[o._v(\"新用户注册\")])],1)],1)],1)])},staticRenderFns:[]};var i=r(\"VU/8\")(e,a,!1,function(t){r(\"wWt1\")},\"data-v-655300d0\",null);o.default=i.exports},wWt1:function(t,o){}});"}