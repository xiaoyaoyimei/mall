{"source":"webpackJsonp([30],{D9KS:function(e,r,t){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var d=t(\"woOf\"),s=t.n(d),a=t(\"E4LH\"),o={data:function(){return{addressOption:[],addForm:{person:\"\",phone:\"\",selectedOptionsAddr:[],address:\"\"},ruleValidate:{person:[{required:!0,message:\"收货人不能为空\",trigger:\"blur\"}],phone:[{required:!0,validator:function(e,r,t){null==r?t(new Error(\"手机号不能为空\")):Object(a.a)(r)?t():t(new Error(\"请输入正确的手机号\"))},trigger:\"blur\"}],selectedOptionsAddr:[{required:!0,type:\"array\",message:\"请选择省市区\",trigger:\"change\"}],address:[{required:!0,message:\"详细地址不能为空\",trigger:\"blur\"}]}}},methods:{getAddressOption:function(){var r=this;this.$axios({method:\"post\",url:\"/common/address\"}).then(function(e){r.addressOption=e})},addSubmit:function(){var d=this;this.$refs.addForm.validate(function(e){if(e){var r=d.addForm;r.receiveProvince=d.addForm.selectedOptionsAddr[0],r.receiveCity=d.addForm.selectedOptionsAddr[1],r.receiveDistrict=d.addForm.selectedOptionsAddr[2],delete r.selectedOptionsAddr;var t=s()({},r);d.$axios({method:\"post\",url:\"/address/insert\",data:t}).then(function(e){if(\"200\"!=e.code)return e.code,void d.$Message.error(e.msg);d.$Message.success(\"提交成功\"),d.$refs.addForm.resetFields(),d.$router.push(\"/user/address\")})}})}},created:function(){this.getAddressOption()}},n={render:function(){var r=this,e=r.$createElement,t=r._self._c||e;return t(\"div\",{staticClass:\"order\"},[t(\"div\",{staticClass:\"wap_header\"},[t(\"router-link\",{attrs:{to:\"/user/address\"}},[t(\"Icon\",{attrs:{type:\"ios-arrow-back\"}}),r._v(\"新增地址\\n\\t\\t\")],1)],1),r._v(\" \"),t(\"Form\",{ref:\"addForm\",staticClass:\"form_wrap adrr pt44\",attrs:{model:r.addForm,rules:r.ruleValidate}},[t(\"FormItem\",{attrs:{prop:\"person\"}},[t(\"Input\",{attrs:{placeholder:\"收货人姓名\"},model:{value:r.addForm.person,callback:function(e){r.$set(r.addForm,\"person\",e)},expression:\"addForm.person\"}})],1),r._v(\" \"),t(\"FormItem\",{attrs:{prop:\"phone\"}},[t(\"Input\",{attrs:{placeholder:\"手机号码\"},model:{value:r.addForm.phone,callback:function(e){r.$set(r.addForm,\"phone\",e)},expression:\"addForm.phone\"}})],1),r._v(\" \"),t(\"FormItem\",{attrs:{prop:\"selectedOptionsAddr\"}},[t(\"Cascader\",{attrs:{data:r.addressOption},model:{value:r.addForm.selectedOptionsAddr,callback:function(e){r.$set(r.addForm,\"selectedOptionsAddr\",e)},expression:\"addForm.selectedOptionsAddr\"}})],1),r._v(\" \"),t(\"FormItem\",{attrs:{prop:\"address\"}},[t(\"Input\",{attrs:{placeholder:\"详细地址\"},model:{value:r.addForm.address,callback:function(e){r.$set(r.addForm,\"address\",e)},expression:\"addForm.address\"}})],1)],1),r._v(\" \"),t(\"div\",{staticClass:\"btn-wrap\"},[t(\"Button\",{staticClass:\"btn-red\",attrs:{type:\"primary\",long:\"\"},on:{click:r.addSubmit}},[r._v(\"保存\")])],1)],1)},staticRenderFns:[]};var i=t(\"VU/8\")(o,n,!1,function(e){t(\"ru1e\"),t(\"gnWC\")},\"data-v-3dc5998c\",null);r.default=i.exports},gnWC:function(e,r){},ru1e:function(e,r){}});"}