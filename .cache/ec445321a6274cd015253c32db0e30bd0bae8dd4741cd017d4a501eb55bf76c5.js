{"source":"webpackJsonp([42],{D9KS:function(e,r,d){\"use strict\";Object.defineProperty(r,\"__esModule\",{value:!0});var s=d(\"woOf\"),t=d.n(s),a={data:function(){return{addressOption:[],addForm:{person:\"\",phone:\"\",selectedOptionsAddr:[],address:\"\"},ruleValidate:{person:[{required:!0,message:\"收货人不能为空\",trigger:\"blur\"}],phone:[{required:!0,message:\"手机号不能为空\",trigger:\"blur\"}],selectedOptionsAddr:[{required:!0,type:\"array\",message:\"请选择省市区\",trigger:\"change\"}],address:[{required:!0,message:\"详细地址不能为空\",trigger:\"blur\"}]}}},methods:{getAddressOption:function(){var r=this;this.$axios({method:\"post\",url:\"/common/address\"}).then(function(e){r.addressOption=e})},addSubmit:function(){var s=this;this.$refs.addForm.validate(function(e){if(e){var r=s.addForm;r.receiveProvince=s.addForm.selectedOptionsAddr[0],r.receiveCity=s.addForm.selectedOptionsAddr[1],r.receiveDistrict=s.addForm.selectedOptionsAddr[2],delete r.selectedOptionsAddr;var d=t()({},r);s.$axios({method:\"post\",url:\"/address/insert\",data:d}).then(function(e){if(\"200\"!=e.code)return e.code,void s.$Message.error(e.msg);s.$Message.success(\"提交成功\"),s.$refs.addForm.resetFields(),s.$router.push(\"/user/address\")})}})}},mounted:function(){this.getAddressOption()}},o={render:function(){var r=this,e=r.$createElement,d=r._self._c||e;return d(\"div\",{staticClass:\"order\"},[d(\"div\",{staticClass:\"m_header_bar\"},[d(\"router-link\",{staticClass:\"m_header_bar_back\",attrs:{to:\"/user/address\"}},[d(\"Icon\",{attrs:{type:\"ios-arrow-back\"}})],1),r._v(\" \"),d(\"span\",{staticClass:\"m_header_bar_title\"},[r._v(\"新增地址\")])],1),r._v(\" \"),d(\"Form\",{ref:\"addForm\",staticClass:\"form_wrap\",attrs:{model:r.addForm,rules:r.ruleValidate}},[d(\"FormItem\",{attrs:{prop:\"person\"}},[d(\"Input\",{attrs:{placeholder:\"收货人姓名\"},model:{value:r.addForm.person,callback:function(e){r.$set(r.addForm,\"person\",e)},expression:\"addForm.person\"}})],1),r._v(\" \"),d(\"FormItem\",{attrs:{prop:\"phone\"}},[d(\"Input\",{attrs:{placeholder:\"手机号码\"},model:{value:r.addForm.phone,callback:function(e){r.$set(r.addForm,\"phone\",e)},expression:\"addForm.phone\"}})],1),r._v(\" \"),d(\"FormItem\",{attrs:{prop:\"selectedOptionsAddr\"}},[d(\"Cascader\",{attrs:{data:r.addressOption},model:{value:r.addForm.selectedOptionsAddr,callback:function(e){r.$set(r.addForm,\"selectedOptionsAddr\",e)},expression:\"addForm.selectedOptionsAddr\"}})],1),r._v(\" \"),d(\"FormItem\",{attrs:{prop:\"address\"}},[d(\"Input\",{attrs:{placeholder:\"详细地址\"},model:{value:r.addForm.address,callback:function(e){r.$set(r.addForm,\"address\",e)},expression:\"addForm.address\"}})],1)],1),r._v(\" \"),d(\"div\",{staticClass:\"btn-wrap\"},[d(\"Button\",{staticClass:\"btn-red\",attrs:{type:\"primary\",long:\"\"},on:{click:r.addSubmit}},[r._v(\"保存\")])],1)],1)},staticRenderFns:[]};var n=d(\"VU/8\")(a,o,!1,function(e){d(\"DBpM\")},\"data-v-02f56da4\",null);r.default=n.exports},DBpM:function(e,r){}});"}