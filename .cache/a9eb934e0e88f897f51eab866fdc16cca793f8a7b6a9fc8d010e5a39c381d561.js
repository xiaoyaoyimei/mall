{"source":"webpackJsonp([21],{D3Rp:function(t,e,s){\"use strict\";Object.defineProperty(e,\"__esModule\",{value:!0});var a={data:function(){return{addressList:[]}},filters:{formatXz:function(t){if(!t)return\"\";return{Y:!0,N:!1}[t=t.toString()]}},methods:{getAddressList:function(){var s=this;this.$axios({method:\"post\",url:\"/address\"}).then(function(t){s.addressList=t;for(var e=0;e<s.addressList.length;e++)\"N\"==s.addressList[e].isDefault?s.addressList[e].isDefault=!1:s.addressList[e].isDefault=!0})},chooseDD:function(t){var e=localStorage.getItem(\"fromc\");null!=e&&(\"miaosha\"==e?this.$router.push({name:\"/secdetail\",params:{address:t}}):this.$router.push({name:\"/carttwo\",params:{address:t}}))},back:function(){var t=localStorage.getItem(\"fromc\");null!=t?\"miaosha\"==t?this.$router.push(\"/secdetail\"):this.$router.push(\"/carttwo\"):this.$router.push(\"/user\")},updateDefault:function(t){var e=this;this.$axios({method:\"post\",url:\"/address/updateDefault?id=\"+t+\"&isDefault=Y\"}).then(function(t){e.getAddressList()})},handleDelete:function(t){var e=this;this.$Modal.confirm({title:\"确认删除\",content:\"<p>确认删除该地址</p>\",onOk:function(){e.$axios({method:\"post\",url:\"/address/delete?id=\"+t}).then(function(t){\"200\"==t.code&&e.getAddressList()})},onCancel:function(){e.$Message.info(\"取消删除\")}})}},mounted:function(){this.getAddressList()}},r={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"div\",{staticClass:\"order\"},[a(\"div\",{staticClass:\"m_header_bar\"},[a(\"Icon\",{staticClass:\"m_header_bar_back\",attrs:{type:\"ios-arrow-back\"},nativeOn:{click:function(t){return s.back(t)}}}),s._v(\" \"),a(\"span\",{staticClass:\"m_header_bar_title\"},[s._v(\"收货地址\")])],1),s._v(\" \"),a(\"ul\",{staticClass:\"addressul box-content\"},s._l(s.addressList,function(e,t){return a(\"li\",[a(\"p\",{on:{click:function(t){s.chooseDD(e)}}},[a(\"span\",[s._v(s._s(e.person)+\" \")]),a(\"span\",[s._v(s._s(e.phone))])]),s._v(\" \"),a(\"p\",[a(\"span\",[s._v(s._s(e.receiveProvince)+s._s(e.receiveCity)+s._s(e.receiveDistrict)+s._s(e.address))])]),s._v(\" \"),a(\"p\",[a(\"span\",[a(\"Checkbox\",{nativeOn:{click:function(t){s.updateDefault(e.id)}},model:{value:e.isDefault,callback:function(t){s.$set(e,\"isDefault\",t)},expression:\"item.isDefault\"}},[s._v(\"设为默认\")])],1),s._v(\" \"),a(\"span\",[a(\"router-link\",{attrs:{to:{path:\"/user/editaddress\",query:{old:e}},tag:\"label\"}},[a(\"Icon\",{attrs:{type:\"edit\"}}),s._v(\"编辑\")],1),s._v(\" \"),a(\"label\",{on:{click:function(t){s.handleDelete(e.id)}}},[a(\"Icon\",{attrs:{type:\"trash-a\"}}),s._v(\"删除\")],1)],1)])])})),s._v(\" \"),a(\"router-link\",{staticClass:\"addaddress\",attrs:{to:\"/user/addaddress\",tag:\"div\"}},[s._v(\"添加新地址\")])],1)},staticRenderFns:[]};var i=s(\"VU/8\")(a,r,!1,function(t){s(\"aUZW\")},\"data-v-ecaf5012\",null);e.default=i.exports},aUZW:function(t,e){}});"}